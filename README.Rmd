---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# idswb

<!-- badges: start -->
<!-- badges: end -->
```{r}

```

`idswb` is primarily a data package enabling an efficient method for working with [International Debt Statistics from World Bank](https://www.worldbank.org/en/programs/debt-statistics/ids) in R.

## Installation

You can install the development version of idswb from [GitHub](https://github.com/) with:

``` r
# setting options
options(timeout = 600, scipen = 999)

# install.packages("devtools")
devtools::install_github("Teal-Insights/idswb")
```

This package will likely never be published on [CRAN](https://cran.r-project.org/) because the data file sizes are too big.


## Example

This is a basic example which shows you how to solve a common problem:

```{r warning=FALSE, message=FALSE}
library(idswb)
library(knitr)
```

```{r}

```
## creating an etl object

We create an ETL object by specifying a string that defines the object's class, and use the package `idswb` to gain access to the relevant data.
```{r}
# ceating an object
idswb_ob <-etl("idswb", dir = getwd())

```

```{r}

```

##  Extract

The first step here is to acquire data
```{r}
idswb_ob %>% etl_extract()
```

```{r}

```
## Transform

This data might require conversion from its original format into files that are appropriate for SQL import, typically in CSV format.
```{r}
idswb_ob %>% etl_transform()
```

```{r}

```
## Load

Fill the SQL database with the processed data.
```{r}
idswb_ob %>% etl_load()
```

```{r}

```
We can still perform the steps above at once
```{r}
# ceating an object
idswb_ob <-etl("idswb", dir = getwd())

idswb_ob %>% 
  # extract
  etl_extract() %>% 
  # transform
  etl_transform() %>% 
  # load
  etl_load()
```

```{r}

```
## Querying data

We can now query debt of a given country that it owes to both China and the World as follows using `get_debt()` function
```{r}
get_debt(debtor = "Kenya", by_year = 2022) %>% kable()
```

```{r}

```

```{r}
get_debt(debtor = "Nigeria", by_year = 2022) %>% kable()
```

